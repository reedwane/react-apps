(this["webpackJsonpreact-blog-app"]=this["webpackJsonpreact-blog-app"]||[]).push([[0],{19:function(e,t,c){},20:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),o=c(12),s=c.n(o),l=(c(19),c(20),c(5)),a=c(2),j=c(0),i=function(){return Object(j.jsxs)("div",{className:"nav-bar",children:[Object(j.jsx)("p",{className:"logo",children:"Cool Blog"}),Object(j.jsxs)("div",{className:"links",children:[Object(j.jsx)(l.b,{to:"/",children:"Home"}),Object(j.jsx)(l.b,{to:"/create",children:"Create Blog"})]})]})},b=c(6),h=function(e){var t=Object(n.useState)(null),c=Object(b.a)(t,2),r=c[0],o=c[1],s=Object(n.useState)(!0),l=Object(b.a)(s,2),a=l[0],j=l[1],i=Object(n.useState)(!1),h=Object(b.a)(i,2),u=h[0],d=h[1];return Object(n.useEffect)((function(){var t=new AbortController;return fetch(e,{signal:t.signal}).then((function(e){return e.json()})).then((function(e){o(e),j(!1),d(!1)})).catch((function(e){"AbortError"===e.name?console.log("fetch aborted"):(d(!0),j(!1),console.log(e.message))})),function(){t.abort()}}),[e]),{data:r,isPending:a,error:u}},u=function(e){var t=e.blogs;return Object(j.jsx)("div",{className:"blog-list",children:t.map((function(e){return Object(j.jsx)("div",{className:"blog-preview",children:Object(j.jsxs)(l.b,{to:"/blog/"+e.id,children:[Object(j.jsx)("h2",{children:e.title}),Object(j.jsxs)("p",{children:["Post by: ",e.author]})]})},e.id)}))})},d=function(){var e=h("http://localhost:8000/blogs"),t=e.data,c=e.isPending,n=e.error;return Object(j.jsxs)("div",{children:[c&&Object(j.jsx)("div",{children:"Loading..."}),n&&Object(j.jsx)("div",{children:"Can not fetch data"}),t&&Object(j.jsx)(u,{blogs:t})]})},O=function(){var e=Object(a.f)(),t=Object(n.useState)(""),c=Object(b.a)(t,2),r=c[0],o=c[1],s=Object(n.useState)(""),l=Object(b.a)(s,2),i=l[0],h=l[1],u=Object(n.useState)("Ire"),d=Object(b.a)(u,2),O=d[0],x=d[1],g=Object(n.useState)("Create blog"),f=Object(b.a)(g,2),p=f[0],v=f[1];return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{children:[Object(j.jsx)("label",{htmlFor:"title",children:"Blog Title"}),Object(j.jsx)("input",{required:!0,type:"text",name:"title",className:"title",value:r,onChange:function(e){return o(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"body",children:"Blog Post"}),Object(j.jsx)("textarea",{type:"text",name:"body",className:"blog-text",required:!0,value:i,onChange:function(e){return h(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"author",children:"Author"}),Object(j.jsxs)("select",{required:!0,type:"text",name:"author",className:"author-name",value:O,onChange:function(e){return x(e.target.value)},children:[Object(j.jsx)("option",{value:"Ire",children:"Ire"}),Object(j.jsx)("option",{value:"Ayo",children:"Ayo"})]}),Object(j.jsx)("button",{type:"submit",className:"create",onClick:function(t){if(t.preventDefault(),""===i||""===r)v("Input All fields!");else{v("Create blog");var c={title:r,body:i,author:O};fetch("http://localhost:8000/blogs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){e.json(),console.log(e)})).catch((function(e){console.log(e.message)})),e.push("/")}},children:p})]})})},x=function(){var e=Object(a.f)(),t="http://localhost:8000/blogs/"+Object(a.g)().id,c=h(t).data;return Object(j.jsx)("div",{children:c&&Object(j.jsxs)("article",{children:[Object(j.jsx)("h2",{children:c.title}),Object(j.jsxs)("p",{children:["By ",c.author]}),Object(j.jsx)("p",{children:c.body}),Object(j.jsx)("button",{onClick:function(c){c.preventDefault(),fetch(t,{method:"DELETE"}).then((function(t){e.push("/")})).catch((function(e){return console.log(e.message)}))},children:"Delete Blog"})]})})},g=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Error 404"}),Object(j.jsx)("p",{children:"page not found"}),Object(j.jsx)(l.b,{to:"/",children:"Back to home"})]})};var f=function(){return Object(j.jsx)(l.a,{children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(i,{}),Object(j.jsxs)(a.c,{children:[Object(j.jsx)(a.a,{exact:!0,path:"/",children:Object(j.jsx)(d,{})}),Object(j.jsx)(a.a,{path:"/create",children:Object(j.jsx)(O,{})}),Object(j.jsx)(a.a,{path:"/blog/:id",children:Object(j.jsx)(x,{})}),Object(j.jsx)(a.a,{path:"/*",children:Object(j.jsx)(g,{})})]})]})})};s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(f,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.24757da3.chunk.js.map