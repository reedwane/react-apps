(this["webpackJsonpreact-blog-app"]=this["webpackJsonpreact-blog-app"]||[]).push([[0],{19:function(e,t,c){},20:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(12),o=c.n(a),s=(c(19),c(20),c(5)),l=c(2),j=c(0),i=function(){return Object(j.jsxs)("div",{className:"nav-bar",children:[Object(j.jsx)("p",{className:"logo",children:"Cool Blog"}),Object(j.jsxs)("div",{className:"links",children:[Object(j.jsx)(s.b,{to:"/react-blog-app",children:"Home"}),Object(j.jsx)(s.b,{to:"/react-blog-app/create",children:"Create Blog"})]})]})},b=c(6),d=function(e){var t=Object(n.useState)(null),c=Object(b.a)(t,2),r=c[0],a=c[1],o=Object(n.useState)(!0),s=Object(b.a)(o,2),l=s[0],j=s[1],i=Object(n.useState)(!1),d=Object(b.a)(i,2),h=d[0],u=d[1];return Object(n.useEffect)((function(){var t=new AbortController;return fetch(e,{signal:t.signal}).then((function(e){return e.json()})).then((function(e){a(e),j(!1),u(!1)})).catch((function(e){"AbortError"===e.name?console.log("fetch aborted"):(u(!0),j(!1),console.log(e.message))})),function(){t.abort()}}),[e]),{data:r,isPending:l,error:h}},h=function(e){var t=e.blogs;return Object(j.jsx)("div",{className:"blog-list",children:t.map((function(e){return Object(j.jsx)("div",{className:"blog-preview",children:Object(j.jsxs)(s.b,{to:"/react-blog-app/blog/"+e.id,children:[Object(j.jsx)("h2",{children:e.title}),Object(j.jsxs)("p",{children:["Post by: ",e.author]})]})},e.id)}))})},u=function(){var e=d("https://my-json-server.typicode.com/reedwane/db/blogs"),t=e.data,c=e.isPending,n=e.error;return Object(j.jsxs)("div",{children:[c&&Object(j.jsx)("div",{children:"Loading..."}),n&&Object(j.jsx)("div",{children:"Can not fetch data"}),t&&Object(j.jsx)(h,{blogs:t})]})},O=function(){var e=Object(l.f)(),t=Object(n.useState)(""),c=Object(b.a)(t,2),r=c[0],a=c[1],o=Object(n.useState)(""),s=Object(b.a)(o,2),i=s[0],d=s[1],h=Object(n.useState)("Ire"),u=Object(b.a)(h,2),O=u[0],p=u[1],x=Object(n.useState)("Create blog"),g=Object(b.a)(x,2),f=g[0],m=g[1];return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{children:[Object(j.jsx)("label",{htmlFor:"title",children:"Blog Title"}),Object(j.jsx)("input",{required:!0,type:"text",name:"title",className:"title",value:r,onChange:function(e){return a(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"body",children:"Blog Post"}),Object(j.jsx)("textarea",{type:"text",name:"body",className:"blog-text",required:!0,value:i,onChange:function(e){return d(e.target.value)}}),Object(j.jsx)("label",{htmlFor:"author",children:"Author"}),Object(j.jsxs)("select",{required:!0,type:"text",name:"author",className:"author-name",value:O,onChange:function(e){return p(e.target.value)},children:[Object(j.jsx)("option",{value:"Ire",children:"Ire"}),Object(j.jsx)("option",{value:"Ayo",children:"Ayo"})]}),Object(j.jsx)("button",{type:"submit",className:"create",onClick:function(t){if(t.preventDefault(),""===i||""===r)m("Input All fields!");else{m("Create blog");var c={title:r,body:i,author:O};fetch("https://my-json-server.typicode.com/reedwane/db/blogs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){e.json(),console.log(e)})).catch((function(e){console.log(e.message)})),e.push("/react-blog-app")}},children:f})]})})},p=function(){var e=Object(l.f)(),t="https://my-json-server.typicode.com/reedwane/db/blogs/"+Object(l.g)().id,c=d(t).data;return Object(j.jsx)("div",{children:c&&Object(j.jsxs)("article",{children:[Object(j.jsx)("h2",{children:c.title}),Object(j.jsxs)("p",{children:["By ",c.author]}),Object(j.jsx)("p",{children:c.body}),Object(j.jsx)("button",{onClick:function(c){c.preventDefault(),fetch(t,{method:"DELETE"}).then((function(t){e.push("/react-blog-app")})).catch((function(e){return console.log(e.message)}))},children:"Delete Blog"})]})})},x=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Error 404"}),Object(j.jsx)("p",{children:"page not found"}),Object(j.jsx)(s.b,{to:"/react-blog-app/",children:"Back to home"})]})};var g=function(){return Object(j.jsx)(s.a,{children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(i,{}),Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{exact:!0,path:"/react-blog-app",children:Object(j.jsx)(u,{})}),Object(j.jsx)(l.a,{path:"/react-blog-app/create",children:Object(j.jsx)(O,{})}),Object(j.jsx)(l.a,{path:"/react-blog-app/blog/:id",children:Object(j.jsx)(p,{})}),Object(j.jsx)(l.a,{path:"/react-blog-app/*",children:Object(j.jsx)(x,{})})]})]})})};o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.79b79a1e.chunk.js.map